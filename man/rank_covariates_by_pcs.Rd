% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/batch_correction.R
\name{rank_covariates_by_pcs}
\alias{rank_covariates_by_pcs}
\title{Score covariates by weighted R^2 and Fisher-combined p-value across PCs.}
\usage{
rank_covariates_by_pcs(
  pca_scores,
  metadata,
  covariates,
  top_n_pcs = 20,
  min_samples = 4
)
}
\arguments{
\item{pca_scores}{data.frame with PC columns named "PC1","PC2",... and column sample_id}

\item{metadata}{data.frame with sample_id}

\item{covariates}{character vector of covariate names to test}

\item{top_n_pcs}{integer number of PCs to consider (use available if fewer)}

\item{min_samples}{minimum complete cases required to compute stats}
}
\value{
data.frame(covariate, weighted_R2, fisher_p, n)
}
\description{
Score covariates by weighted R^2 and Fisher-combined p-value across PCs.
}
